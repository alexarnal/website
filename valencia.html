<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Valencia Diet Planner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
        }

        h1 {
            color: #8b0000;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-style: italic;
        }

        .meal-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .meal-btn {
            padding: 15px 30px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            background: #f0f0f0;
            transition: all 0.3s;
            font-weight: bold;
        }

        .meal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .meal-btn.active {
            background: #8b0000;
            color: white;
        }

        .requirements {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
        }

        .requirements h3 {
            color: #8b0000;
            margin-bottom: 15px;
        }

        .requirements ul {
            margin-left: 20px;
        }

        .requirements li {
            margin-bottom: 8px;
            color: #333;
        }

        .food-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .food-category {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .food-category h3 {
            color: #8b0000;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .food-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            padding: 10px;
            background: white;
            border-radius: 5px;
            transition: background 0.2s;
        }

        .food-item:hover {
            background: #e9ecef;
        }

        .food-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .food-item label {
            flex-grow: 1;
            cursor: pointer;
            font-size: 0.95em;
        }

        .quantity-input {
            width: 60px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: center;
        }

        .tracker {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .tracker h3 {
            margin-bottom: 20px;
            font-size: 1.5em;
            text-align: center;
        }

        .progress-bars {
            display: grid;
            gap: 15px;
        }

        .progress-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .progress-bar {
            width: 100%;
            height: 25px;
            background: rgba(255,255,255,0.2);
            border-radius: 15px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ade80, #22c55e);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.85em;
        }

        .progress-fill.complete {
            background: linear-gradient(90deg, #22c55e, #16a34a);
        }

        .progress-fill.over {
            background: linear-gradient(90deg, #ef4444, #dc2626);
        }

        .selected-items {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .selected-items h3 {
            color: #8b0000;
            margin-bottom: 15px;
        }

        .selected-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .selected-tag {
            background: white;
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid #8b0000;
            color: #8b0000;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .remove-btn {
            background: #8b0000;
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 0.8em;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .reset-btn {
            background: #dc2626;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
        }

        .reset-btn:hover {
            background: #b91c1c;
            transform: translateY(-2px);
        }

        .info-note {
            background: #e0f2fe;
            border-left: 5px solid #0284c7;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            color: #0c4a6e;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Master Valencia Diet Planner</h1>
        <p class="subtitle">Dr. Daniel Valencia</p>

        <div class="meal-selector">
            <button class="meal-btn active" onclick="selectMeal('breakfast')">Breakfast</button>
            <button class="meal-btn" onclick="selectMeal('lunch')">Lunch</button>
            <button class="meal-btn" onclick="selectMeal('dinner')">Dinner</button>
        </div>

        <div class="requirements" id="requirements"></div>

        <div class="tracker">
            <h3>Nutritional Progress</h3>
            <div class="progress-bars" id="progressBars"></div>
        </div>

        <div class="selected-items">
            <h3>Selected Items</h3>
            <div class="selected-list" id="selectedList"></div>
            <button class="reset-btn" onclick="resetMeal()" style="margin-top: 15px;">Reset Meal</button>
        </div>

        <div class="food-selection" id="foodSelection"></div>

        <div class="info-note">
            <strong>Note:</strong> Cheat meals - 4 regular lunch meals can be replaced by 4 different cheat meals with up to 800 calories to get the cravings out of the way and continue with the diet.
        </div>
    </div>

    <script>
        // Food database with nutritional information
        const foodDatabase = {
            // Low Glycemic Fruits
            berries: { name: 'Berries (1 cup)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            cherries: { name: 'Cherries (1 cup)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            jicama: { name: 'Jicama (1 cup)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            papaya: { name: 'Papaya (1 cup)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            watermelon: { name: 'Watermelon (1 cup)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            apple: { name: 'Apple (whole)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            orange: { name: 'Orange (whole)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            kiwi: { name: 'Kiwi (whole)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            pear: { name: 'Pear (whole)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            plums: { name: 'Plums (whole)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            peaches: { name: 'Peaches (whole)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            sweetPotato: { name: 'Sweet Potato (whole)', protein: 0, lowGlycemicFruit: 1, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },

            // High Glycemic Fruits
            mango: { name: 'Mango (1 whole)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 1, carbs: 0, vegetables: 0 },
            banana: { name: 'Banana (1 whole)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 1, carbs: 0, vegetables: 0 },
            pineapple: { name: 'Pineapple (1 cup)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 1, carbs: 0, vegetables: 0 },
            grapes: { name: 'Grapes (1 cup)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 1, carbs: 0, vegetables: 0 },
            melon: { name: 'Melon (1 cup)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 1, carbs: 0, vegetables: 0 },

            // Processed Carbs
            tortillas: { name: 'Tortillas (2)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 1, vegetables: 0 },
            bread: { name: 'Bread (2 pieces)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 1, vegetables: 0 },
            rice: { name: 'Rice (1 cup cooked)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 1, vegetables: 0 },
            tostadas: { name: 'Tostadas (2)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 1, vegetables: 0 },
            pasta: { name: 'Pasta (1 cup cooked)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 1, vegetables: 0 },

            // Non-Meat Proteins
            wholeEgg: { name: 'Whole Egg (1)', protein: 7, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            eggWhites: { name: 'Egg Whites (4)', protein: 14, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            cottageCheese: { name: 'Fat-free Cottage Cheese (1 cup)', protein: 25, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            proteinYogurt: { name: 'Protein Yogurt (1 cup)', protein: 20, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            treeNuts: { name: 'Tree Nuts (1/2 cup)', protein: 10, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            peanutButter: { name: 'Peanut Butter (2 Tbs)', protein: 8, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            tofu: { name: 'Tofu', protein: 10, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            proteinShake: { name: 'Protein Shake (30g)', protein: 30, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            quinoa: { name: 'Quinoa/Beans (1 cup)', protein: 15, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            lowFatCheese: { name: 'Low-fat Cheese (1/2 cup)', protein: 14, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            hummus: { name: 'Hummus (2 Tbs)', protein: 2, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },

            // Animal Proteins
            chicken: { name: 'Chicken (4 oz)', protein: 30, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            turkey: { name: 'Turkey (4 oz)', protein: 30, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            fish: { name: 'Fish (4 oz)', protein: 30, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },
            pork: { name: 'Pork (4 oz)', protein: 30, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 0 },

            // Vegetables
            broccoli: { name: 'Broccoli (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 },
            spinach: { name: 'Spinach (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 },
            carrots: { name: 'Carrots (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 },
            bellPeppers: { name: 'Bell Peppers (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 },
            zucchini: { name: 'Zucchini (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 },
            greenBeans: { name: 'Green Beans (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 },
            cauliflower: { name: 'Cauliflower (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 },
            asparagus: { name: 'Asparagus (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 },
            salad: { name: 'Mixed Salad (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 },
            tomatoes: { name: 'Tomatoes (1 serving)', protein: 0, lowGlycemicFruit: 0, highGlycemicFruit: 0, carbs: 0, vegetables: 1 }
        };

        // Meal requirements
        const mealRequirements = {
            breakfast: {
                title: 'Breakfast Requirements',
                timing: 'First meal, any time after waking up',
                requirements: [
                    '2 servings of low glycemic fruit',
                    '1 serving of high glycemic fruit',
                    '25g non-meat protein'
                ],
                goals: {
                    protein: 25,
                    lowGlycemicFruit: 2,
                    highGlycemicFruit: 1,
                    carbs: 0,
                    vegetables: 0
                }
            },
            lunch: {
                title: 'Lunch Requirements',
                timing: 'Heaviest meal, 8 hours before bedtime',
                requirements: [
                    '1 serving processed carbohydrate',
                    '30g animal protein',
                    '2 servings of vegetables'
                ],
                goals: {
                    protein: 30,
                    lowGlycemicFruit: 0,
                    highGlycemicFruit: 0,
                    carbs: 1,
                    vegetables: 2
                }
            },
            dinner: {
                title: 'Dinner Requirements',
                timing: 'Healthiest meal, 3-4 hours before bedtime',
                requirements: [
                    '3 servings of vegetables',
                    '15g of any protein (NO RED MEAT!)'
                ],
                goals: {
                    protein: 15,
                    lowGlycemicFruit: 0,
                    highGlycemicFruit: 0,
                    carbs: 0,
                    vegetables: 3
                }
            }
        };

        let currentMeal = 'breakfast';
        let selectedItems = [];

        function selectMeal(meal) {
            currentMeal = meal;
            selectedItems = [];
            
            // Update button states
            document.querySelectorAll('.meal-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateUI();
        }

        function updateUI() {
            updateRequirements();
            updateFoodSelection();
            updateProgress();
            updateSelectedList();
        }

        function updateRequirements() {
            const req = mealRequirements[currentMeal];
            const html = `
                <h3>${req.title}</h3>
                <p style="margin-bottom: 10px;"><strong>Timing:</strong> ${req.timing}</p>
                <ul>
                    ${req.requirements.map(r => `<li>${r}</li>`).join('')}
                </ul>
            `;
            document.getElementById('requirements').innerHTML = html;
        }

        function updateFoodSelection() {
            const req = mealRequirements[currentMeal];
            let categories = {};

            if (currentMeal === 'breakfast') {
                categories = {
                    'Low Glycemic Fruits': ['berries', 'cherries', 'jicama', 'papaya', 'watermelon', 'apple', 'orange', 'kiwi', 'pear', 'plums', 'peaches', 'sweetPotato'],
                    'High Glycemic Fruits': ['mango', 'banana', 'pineapple', 'grapes', 'melon'],
                    'Non-Meat Proteins': ['wholeEgg', 'eggWhites', 'cottageCheese', 'proteinYogurt', 'treeNuts', 'peanutButter', 'tofu', 'proteinShake', 'quinoa', 'lowFatCheese', 'hummus']
                };
            } else if (currentMeal === 'lunch') {
                categories = {
                    'Processed Carbohydrates': ['tortillas', 'bread', 'rice', 'tostadas', 'pasta'],
                    'Animal Proteins': ['chicken', 'turkey', 'fish', 'pork'],
                    'Vegetables': ['broccoli', 'spinach', 'carrots', 'bellPeppers', 'zucchini', 'greenBeans', 'cauliflower', 'asparagus', 'salad', 'tomatoes']
                };
            } else { // dinner
                categories = {
                    'Vegetables': ['broccoli', 'spinach', 'carrots', 'bellPeppers', 'zucchini', 'greenBeans', 'cauliflower', 'asparagus', 'salad', 'tomatoes'],
                    'Proteins (NO RED MEAT!)': ['chicken', 'turkey', 'fish', 'wholeEgg', 'eggWhites', 'cottageCheese', 'proteinYogurt', 'treeNuts', 'peanutButter', 'tofu', 'proteinShake', 'quinoa', 'lowFatCheese', 'hummus']
                };
            }

            let html = '';
            for (let [category, items] of Object.entries(categories)) {
                html += `
                    <div class="food-category">
                        <h3>${category}</h3>
                        ${items.map(item => {
                            const food = foodDatabase[item];
                            const isChecked = selectedItems.includes(item) ? 'checked' : '';
                            return `
                                <div class="food-item">
                                    <input type="checkbox" id="${item}" ${isChecked} onchange="toggleFood('${item}')">
                                    <label for="${item}">${food.name}</label>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            }

            document.getElementById('foodSelection').innerHTML = html;
        }

        function toggleFood(itemId) {
            const index = selectedItems.indexOf(itemId);
            if (index > -1) {
                selectedItems.splice(index, 1);
            } else {
                selectedItems.push(itemId);
            }
            updateProgress();
            updateSelectedList();
        }

        function calculateTotals() {
            const totals = {
                protein: 0,
                lowGlycemicFruit: 0,
                highGlycemicFruit: 0,
                carbs: 0,
                vegetables: 0
            };

            selectedItems.forEach(itemId => {
                const food = foodDatabase[itemId];
                totals.protein += food.protein;
                totals.lowGlycemicFruit += food.lowGlycemicFruit;
                totals.highGlycemicFruit += food.highGlycemicFruit;
                totals.carbs += food.carbs;
                totals.vegetables += food.vegetables;
            });

            return totals;
        }

        function updateProgress() {
            const totals = calculateTotals();
            const goals = mealRequirements[currentMeal].goals;

            let html = '';
            const metrics = [
                { key: 'protein', label: 'Protein', unit: 'g' },
                { key: 'lowGlycemicFruit', label: 'Low Glycemic Fruit', unit: ' servings' },
                { key: 'highGlycemicFruit', label: 'High Glycemic Fruit', unit: ' servings' },
                { key: 'carbs', label: 'Processed Carbs', unit: ' servings' },
                { key: 'vegetables', label: 'Vegetables', unit: ' servings' }
            ];

            metrics.forEach(metric => {
                const goal = goals[metric.key];
                if (goal > 0) {
                    const current = totals[metric.key];
                    const percentage = Math.min((current / goal) * 100, 100);
                    const overPercentage = current > goal ? 100 : 0;
                    
                    let fillClass = '';
                    if (current >= goal) fillClass = 'complete';
                    if (current > goal) fillClass = 'over';

                    html += `
                        <div class="progress-item">
                            <div class="progress-label">
                                <span>${metric.label}</span>
                                <span>${current}${metric.unit} / ${goal}${metric.unit}</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill ${fillClass}" style="width: ${percentage}%">
                                    ${current >= goal ? '✓' : ''}
                                </div>
                            </div>
                        </div>
                    `;
                }
            });

            document.getElementById('progressBars').innerHTML = html;
        }

        function updateSelectedList() {
            if (selectedItems.length === 0) {
                document.getElementById('selectedList').innerHTML = '<p style="color: #666;">No items selected yet</p>';
                return;
            }

            const html = selectedItems.map(itemId => {
                const food = foodDatabase[itemId];
                return `
                    <div class="selected-tag">
                        ${food.name}
                        <button class="remove-btn" onclick="toggleFood('${itemId}')">×</button>
                    </div>
                `;
            }).join('');

            document.getElementById('selectedList').innerHTML = html;
        }

        function resetMeal() {
            selectedItems = [];
            updateUI();
        }

        // Initialize
        updateUI();
    </script>
</body>
</html>